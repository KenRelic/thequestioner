<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Questioner | Create Admin</title>

  <!-- Font awesome -->
  <link rel="stylesheet" href="/fontawesome/css/all.min.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/751b3a69bc.js" crossorigin="anonymous"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Chau+Philomene+One&family=Poppins:wght@200;400;500;700&family=Roboto:wght@300;400&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="/css/index2.css">

  <link rel="stylesheet" href="/css/dashboard.css">
  <link rel="stylesheet" href="/css/event.css">
</head>

<style>
  #event-actions {
    position: absolute;
    top: 0;
    right: 0.2em;
  }

  #event-actions span {

    vertical-align: middle;
    background-color: #fff !important;
    font-size: 0.6em;
    border-radius: 2em;
    cursor: pointer;
    margin-right: 0.5em;
    line-height: 1.5;
    padding: 0.3em 0.7em;
    text-align: center;
  }

  .fa-edit {
    color: rebeccapurple
  }

  .fa-times {
    color: red;
  }
  @media screen and (min-width: 781px) {
  #events-content>div {
    width: 600px;
  }
}
</style>

<body>
  <main id="main">
    <section id="menu-bar" class="hide folded">
      <div id="user-intro-wrapper" class="user-intro-wrapper">
        <div id="user-img" class="user-img"></div>
        <p id="user-name" class="user-name">Bruce Wayne</p>
        <div id="notification-wrapper" class="notification-wrapper">
          <p id="user-profession" class="user-profession">Super Admin</p>
          <i class="fas fa-bell"><span id="num-of-notification">5</span></i>
        </div>
      </div>
      <div id="menu-items-wrapper">
        <div id="menu-items-section">
          <ul id="features">
            <li><a href="/me/dashboard"><i class="fas fa-tachometer-alt"></i><span class="hide">Dashboard</span></a></li>
            <li><a href="/me/events"><i class="fas fa-clock"></i><span  class="hide">Events</span></a></li>
            <li><a href="/me/users"><i class="fas fa-user-tie"></i><span  class="hide">Users</span></a></li>
            <li><a href="/me/activity"><i class="fas fa-chart-line"></i><span  class="hide">My activity</span></a></li>
            <!-- <li><i class="fas fa-tasks"></i><span>Tasks</span></li> -->
            <!-- <li><i class="fas fa-star"></i><span>Appraisal</span></li> -->
            <!-- <li><i class="fas fa-poll"></i><span>Analytics</span></li> -->
          </ul>
          <ul id="settings">
            <li id="settings-btn"><i class="fas fa-cog"></i><span  class="hide">Settings</span></li>
            <li class="more-setting hide"><a href="/me/updateProfile">Update Profile</a></li>
            <li class="more-setting hide">Change password</li>
            <li><form action="" method="post"><i class="fas fa-sign-out-alt"></i><span  class="hide">Log out</span></form></li>
          </ul>
          <div id="expand-menu"><i class="fas fa-angle-double-right"></i></div>
        </div>

      </div>
    </section>

    <section id="main-section">
      <i id="menu-icon" class="fas fa-bars ml-0"></i>
      <div class="menu-icon-trail-bar block"></div>
      <!-- <header class="feature-header">Events</header> -->
        <div id="feature-content">
          <div class="card" id="events">
            <div class="header-and-control">
              <header class="card-header"> Create Admin
                <div id="event-actions"><span class="fa fa-times" id="clear-new-admin-btn"></span></div>
                <div class="card-action">

                  <style>
                    #event-header,
                    #event-tags {
                      font-size: 1.5em;
                      background-color: transparent;
                      color: #fff;
                      border: none;
                      flex: 1;
                      width: 100%;
                    }
                  </style>
                </div>
              </header>
            </div>
            <div class="content" id="events-content">
              <div class="event-wrapper">
                <% if(errors){ %>
                <% errors.forEach(error =>{ %>
                <% if(error.param == 'fullname'){ %>
                <style>
                  #fullname-wrapper {
                    border: 1px solid red;
                  }

                  #fullname-wrapper i {
                    background-color: red;
                  }

                  #fullname-wrapper+p {
                    font-size: 0.8em;
                    margin: -1em auto 1em auto;
                    color: red;
                    text-align: start;
                    min-width: 150px;
                    width: 76%;
                    display: block;
                  }
                </style>
                <% } else if (error.param == 'email') { %>
                <style>
                  #email-wrapper {
                    border: 1px solid red;
                  }

                  #email-wrapper i {
                    background-color: red;
                  }

                  #email-wrapper+p {
                    font-size: 0.8em;
                    margin: -1em auto 1em auto;
                    color: red;
                    text-align: start;
                    min-width: 150px;
                    width: 76%;
                    display: block;
                  }
                </style>
                <% } else if (error.param == 'password') { %>
                <style>
                  #password-wrapper {
                    border: 1px solid red;
                  }

                  #password-wrapper i {
                    background-color: red;
                  }

                  #password-wrapper+p {
                    font-size: 0.8em;
                    margin: -1em auto 1em auto;
                    color: red;
                    text-align: start;
                    min-width: 150px;
                    width: 76%;
                    display: block;
                  }
                </style>
                <% } %>
                <% })  %>
                <% } %>

                <form action="/signUp" method="post" name="new-admin" id="admin-form">
                  <div class="input-wrapper" id="fullname-wrapper"><i class="fas fa-user"></i><input type="text"
                      name="fullname" id="fullname" placeholder="Full Name" value="<%- fullname? fullname : '' %>">
                  </div>
                  <p>Full name must be at least 4 characters long</p>
                  <div class="input-wrapper" id="email-wrapper"><i class="fas fa-envelope"></i><input type="email"
                      name="email" id="email" placeholder="Email" value="<%- email? email : '' %>"></div>
                  <p>Email is invalid</p>
                  <% if(error) { %>
                  <style>
                    #email-wrapper {
                      border: 1px solid red;
                    }

                    #email-wrapper i {
                      background-color: red;
                    }
                  </style>
                  <p id="invalid-email" style="display: block;">The email address has already been registered.</p>
                  <% } %>

                  <div class="input-wrapper" id="password-wrapper"><i class="fas fa-lock"></i><input type="password"
                      name="password" id="password" placeholder="Password" value="<%- password? password : '' %>"></div>
                  <p>Password must be at least 8 characters long</p>
                  <button id="create-admin-btn" type="submit">Sign Up</button>
                </form>
              </div>
            </div>
          </div>
        </div>
    </section>

  </main>

  <script src="/js/dashboard.js"></script>
  <script>
    let clearAdminBtn = document.getElementById('clear-new-admin-btn');
    clearAdminBtn.addEventListener('click', clearForm)

    function clearForm() {
      document.getElementById('fullname').value = '';
      document.getElementById('email').value = '';
      document.getElementById('password').value = '';
      // document.getElementById('admin-form').reset()
    }
  </script>
</body>

</html>

<!-- textBody.split('#')[0].replace('**'+textBody.split('#')[0].trim().match(/[a-zA-Z0-9\s]+/)[0]+'**','').trim() -->